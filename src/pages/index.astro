---
import Layout from '../layouts/Layout.astro';

import Hero from '../components/Hero.astro';
import Feature from '../components/Feature.astro';
import About from '../components/About.astro';
import Team from '../components/Team.astro';
import Vision from '../components/Vision.astro';
import Newsletter from '../components/Newsletter.astro';
---

<Layout>
	<Hero />

	<Feature />

	<About />

	<Team />

	<Vision />

	<Newsletter />
</Layout>

<script type="text/javascript">
	// section observer 
	const sections =  $(`section[class^="section"] div[class^="container"]`);
	const scaling = 0.8;

	sections.css({
		"transform": `scale(${scaling})`,
		"transition": "350ms ease"
	});

	const sectionObserverOptions = {
		threshold: 0,
		rootMargin: "0px 0px -300px 0px",
	};

	const sectionObserver = new IntersectionObserver((entries, sectionObserver) => {
		entries.forEach((entry) => {
			const section = $(entry.target);

			if(!entry.isIntersecting)
			{
				section.css("transform",`scale(${scaling})`);
				return;
			}

			section.css("transform", "scale(1)");
		});
	}, sectionObserverOptions);



	$.each(sections, (i, section) => {
		sectionObserver.observe(section);
	});
</script>